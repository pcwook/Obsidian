![[안드로이드 프로그래밍 중간고사]]
## 1. 프로세스와 스레드
- 프로세스 
	- 프로세스는 <font color="#ffc000">독자적</font>으로 실행이 가능한 환경이다.
	- 프로세스는 <font color="#ffc000">자기만의</font> 메모리 공간을 가진다.
	- 메모리 공간은 <font color="#ffc000">분리</font>되어 있다.
- 스레드
	- 스레드는 경량 프로세스라고도 불린다.
	- 스레드 들은 프로세스 안에서 존재한다.
	- 모든 프로세스에는 적어도 하나의 스레드는 존재한다.
	- 스레드들은 메모리와 파일을 포함하여 <font color="#ffc000">프로세스의 모든 자원을 공유</font>한다.
- 안드로이드에서 프로세스와 스레드
	- 기본적으로 애플리케이션 안의 모든 컴포넌트들은 동일한 프로세스의 동일한 스레드로 실행된다. 
	- 이 기본적인 스레드를 <font color="#ffc000">메인 스레드</font>(main thread)라고 부른다.

## 2. 스레드
- 애플리케이션을 위한 첫 번째 스레드를 <font color="#ffc000">메인 스레드 </font>라고 불린다. == <font color="#ffc000">UI 스레드</font> 라고도 불린다.
- [메인 스레드]
	- 동일한 프로세스 안에서 실행되는 모든 컴포넌트는 메인 스레드 안에서 실행된다.
	-  주의사항
		- 단일 스레드 모델은 애플리케이션의 성능을 상당히 떨어뜨릴 수 있다.
		- <u>네트워크 접근이나 데이터베이스 쿼리와 같은 시간이 많이 걸리는 작업은 하면 안됨</u>.
		- 그러므로 아래와 같은 원칙이 생겼다.
		- 안드로이드의 단일 스레드 모델에서의 2가지 중요한 원칙.
			- <font color="#ffc000">UI스레드는 블록시키면 안 된다.</font>
			- <font color="#ffc000">UI스레드가 아닌 다른 스레드가 UI 위젯을 조작하면 안 된다</font>.
- ==작업 스레드==
	- 시간이 많이 걸리는 작업을 할 경우에는 스레드를 별도로 생성하는 것을 고려하여야 한다.
	- 자바가 제공하는 다중 스레딩에는 2가지 방법이 존재
		- Tread 클래스를 상속받아서 스레드를 작성하는 방법
		- ==Runnalbe 인터페이스를 구현한 후에 Thread 객체에 전달하는 방법==
			1. Runnable 인터페이스를 구현한 클래스 작성.
			2. run() 메소드를 재정의.
			3. 이 클래스의 객체를 Thread 생성자로 전달하는 방법.

## 3. 스레드에서 UI를 조작하는 방법
- 직접적으로 사용자 인터페이스 위젯을 변경하면 안 된다는 것이다. 문제가 생김
- ==스레드에서 화면에 표시되는 프로그레스바, 이미지 뷰,텍스트 뷰 등을 직접 변경하면 안 된다.==
	- 두 번쨰 원칙을 위배 [[13장 스레드#2. 스레드]]
		- <font color="#ffc000">스레드 안에서 UI를 조작하면 실행 오류가 발생한다.</font>
-  이 문제를 해결하기 위해 다른 스레드에서 UI 스레드에 접근하는 많은 방법을 제공한다.
	- 메소드 사용
		- Activity.runOnUiThread(Runnable)
		- <font color="#ffc000">View.post(Runnable)</font>
		- View.postDelayed(Runnable, long)
	-  가장 좋은 해결책은 스레드를 직접 사용하지 말고<font color="#ffc000"> AsyncTask 클래스</font>를 상속받아서 사용하는 것이다.

## 4. AsyncTask 사용하기
- 작업을 별도의 스래드에서 실행하기 위하여 <font color="#ffc000">AsynTask 클래스</font>를 이용한다.
-  모든 종류의, 시간이 많이 소용되는 작업을 수행
- 추상 클래스이다. 사용하려면 상속해야한다.
- <font color="#ffc000">Params</font> 은 실행 시에 작업에 <u>전달되는 값</u>의 타입이다.
- <font color="#ffc000">Progress</font>는 작업의 <u>진행 정도</u>를 나타내는 값의 타입이다.
- <font color="#ffc000">Result</font>는 작업의 <u>결과 값</u>을 나타내는 값의 타입이다.